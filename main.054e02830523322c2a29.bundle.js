webpackJsonp([1],{0:function(t,e,i){t.exports=i("x35b")},1:function(t,e){},2:function(t,e){},"2zuS":function(t,e){t.exports="#canvas {\n  border: 2px dashed #cccccc;\n}\n.main-title {\n  margin-top: 10px;\n}\n.images-item {\n  width: 48%;\n  cursor: pointer;\n  -webkit-transition: 0.5s ease;\n  padding: 3px;\n  max-width: 120px;\n}\n.images-item:hover {\n  opacity: 0.7;\n}\n.images-item-upload {\n  width: 80%;\n  cursor: pointer;\n  padding-bottom: 10px;\n  -webkit-transition: 0.5s ease;\n}\n.images-item-upload:hover {\n  opacity: 0.7;\n}\n.custom-item {\n  border-bottom: 2px solid #f3f3f3;\n}\n.custom-item .custom-item-title {\n  color: #666666;\n  font-weight: 600;\n}\n.custom-item .custom-item-body {\n  padding: 10px 0;\n}\n.max-height {\n  overflow: auto;\n  max-height: 300px;\n}\n"},3:function(t,e){},4:function(t,e){},"5xMp":function(t,e){t.exports='<div class="container">\n  <div class="row">\n    <div class="col-xl-12">\n      <div class="row">\n        <div class="col-xl-12 text-right">\n          <button data-toggle="tooltip" data-placement="bottom" title="Export to image" type="button" class="btn btn-primary" (click)="rasterize();">\n            <i class="fa fa-download" aria-hidden="true"></i> Export to image</button>\n          <button data-toggle="tooltip" data-placement="bottom" title="Clean Canvas" type="button" class="btn btn-danger" (click)="confirmClear();">\n            <i class="fa fa-ban" aria-hidden="true"></i> Clean</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <hr>\n  <div class="row">\n    <div class="col-xl-3">\n      <div class="card">\n        <div class="card-header">Add text</div>\n        <div class="card-body">\n          <div class="input-group">\n            <input type="text" class="form-control" [(ngModel)]="textString">\n            <div class="input-group-append">\n              <span class="input-group-text">\n                <button id="add-text" data-toggle="tooltip" data-placement="bottom" title="Add text" class="btn btn-primary" (click)="addText()">\n                  <i class="fa fa-plus" aria-hidden="true"></i>\n                </button>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div class="card">\n        <div class="card-header">Add figure</div>\n        <div class="card-body text-center max-height">\n          <div class="btn-group btn-group-vertical" role="group" aria-label="...">\n            <button type="button" class="btn btn-primary" (click)="addFigure(\'rectangle\');">Rectangle</button>\n            <button type="button" class="btn btn-primary" (click)="addFigure(\'square\');">Square</button>\n            <button type="button" class="btn btn-primary" (click)="addFigure(\'triangle\');">Triangle</button>\n            <button type="button" class="btn btn-primary" (click)="addFigure(\'circle\');">Circle</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-xl-6">\n      <canvas id="canvas"></canvas>\n    </div>\n    <div class="row">\n      <div class="col-xl-12">\n        <div class="card">\n          <div class="card-header">Canvas</div>\n          <div class="card-body">\n            <div class="custom-item">\n              <div class="custom-item-title">Pencil</div>\n              <div class="custom-item-body">\n                <input name="options" ng-control="options" type="radio" [value]="true" [(ngModel)]="isPencil" (change)="setMode(true)"> Selected\n                <br/>\n                <input name="options" ng-control="options" type="radio" [value]="false" [(ngModel)]="isPencil" (change)="setMode(false)"> Not Selected\n                <br/>\n              </div>\n            </div>\n            <div class="custom-item">\n              <div class="custom-item-title">Background Color</div>\n              <div class="custom-item-body">\n                <input type="text" class="form-control" [cpPosition]="\'bottom\'" [(colorPicker)]="props.canvasFill" [style.background]="props.canvasFill"\n                  [value]="props.canvasFill" (colorPickerChange)="setCanvasFill()">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>'},Jnfr:function(t,e){function i(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="Jnfr"},x35b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("WT6e"),o=i("4PVY"),s=i("OE0E"),a=i("z4i6"),c=i("7DMc"),r=i("bfOx"),l=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a},p=[],d=function(){function t(){}return t=l([Object(n.I)({imports:[r.a.forRoot(p)],exports:[r.a]})],t)}(),u=(i("tsU9"),this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}),f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(){this.props={canvasFill:"#ffffff",canvasImage:"",id:null,opacity:null,fill:null,fontSize:null,lineHeight:null,charSpacing:null,fontWeight:null,fontStyle:null,textAlign:null,fontFamily:null,TextDecoration:""},this.url="",this.size={width:500,height:500},this.globalEditor=!1,this.textEditor=!1,this.imageEditor=!1,this.figureEditor=!1,this.isPencil=!1}return t.prototype.ngOnInit=function(){var t=this;this.canvas=new fabric.Canvas("canvas",{hoverCursor:"pointer",selection:!0,selectionBorderColor:"blue",isDrawingMode:this.isPencil}),console.log(this.canvas),this.canvas.on({"object:moving":function(t){},"object:modified":function(t){},"object:selected":function(e){var i=e.target;if(t.selected=i,i.hasRotatingPoint=!0,i.transparentCorners=!1,t.resetPanels(),"group"!==i.type&&i)switch(t.getId(),t.getOpacity(),i.type){case"rect":case"circle":case"triangle":t.figureEditor=!0,t.getFill();break;case"i-text":t.textEditor=!0,t.getLineHeight(),t.getCharSpacing(),t.getBold(),t.getFontStyle(),t.getFill(),t.getTextDecoration(),t.getTextAlign(),t.getFontFamily();break;case"image":console.log("image")}},"selection:cleared":function(e){t.selected=null,t.resetPanels()}}),this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height)},t.prototype.setMode=function(t){this.canvas.isDrawingMode=t},t.prototype.addText=function(){var t=this.textString,e=new fabric.IText(t,{left:10,top:10,fontFamily:"helvetica",angle:0,fill:"#000000",scaleX:.5,scaleY:.5,fontWeight:"",hasRotatingPoint:!0});this.extend(e,this.randomId()),this.canvas.add(e),this.selectItemAfterAdded(e),this.textString=""},t.prototype.readUrl=function(t){var e=this;if(t.target.files&&t.target.files[0]){var i=new FileReader;i.onload=function(t){e.url=t.target.result},i.readAsDataURL(t.target.files[0])}},t.prototype.addFigure=function(t){var e;switch(t){case"rectangle":e=new fabric.Rect({width:200,height:100,left:10,top:10,angle:0,fill:"#3f51b5"});break;case"square":e=new fabric.Rect({width:100,height:100,left:10,top:10,angle:0,fill:"#4caf50"});break;case"triangle":e=new fabric.Triangle({width:100,height:100,left:10,top:10,fill:"#2196f3"});break;case"circle":e=new fabric.Circle({radius:50,left:10,top:10,fill:"#ff5722"})}this.extend(e,this.randomId()),this.canvas.add(e),this.selectItemAfterAdded(e)},t.prototype.cleanSelect=function(){this.canvas.deactivateAllWithDispatch().renderAll()},t.prototype.selectItemAfterAdded=function(t){this.canvas.deactivateAllWithDispatch().renderAll(),this.canvas.setActiveObject(t)},t.prototype.setCanvasFill=function(){this.props.canvasImage||(this.canvas.backgroundColor=this.props.canvasFill,this.canvas.renderAll())},t.prototype.extend=function(t,e){var i;t.toObject=(i=t.toObject,function(){return fabric.util.object.extend(i.call(this),{id:e})})},t.prototype.randomId=function(){return Math.floor(999999*Math.random())+1},t.prototype.getActiveStyle=function(t,e){return(e=e||this.canvas.getActiveObject())?e.getSelectionStyles&&e.isEditing?e.getSelectionStyles()[t]||"":e[t]||"":""},t.prototype.setActiveStyle=function(t,e,i){if(i=i||this.canvas.getActiveObject()){if(i.setSelectionStyles&&i.isEditing){var n={};n[t]=e,i.setSelectionStyles(n),i.setCoords()}else i.set(t,e);i.setCoords(),this.canvas.renderAll()}},t.prototype.getActiveProp=function(t){var e=this.canvas.getActiveObject();return e&&e[t]||""},t.prototype.setActiveProp=function(t,e){var i=this.canvas.getActiveObject();i&&(i.set(t,e).setCoords(),this.canvas.renderAll())},t.prototype.getId=function(){this.props.id=this.canvas.getActiveObject().toObject().id},t.prototype.setId=function(){var t=this.props.id,e=this.canvas.getActiveObject().toObject();console.log(e),this.canvas.getActiveObject().toObject=function(){return e.id=t,e}},t.prototype.getOpacity=function(){this.props.opacity=100*this.getActiveStyle("opacity",null)},t.prototype.setOpacity=function(){this.setActiveStyle("opacity",parseInt(this.props.opacity)/100,null)},t.prototype.getFill=function(){this.props.fill=this.getActiveStyle("fill",null)},t.prototype.setFill=function(){this.setActiveStyle("fill",this.props.fill,null)},t.prototype.getLineHeight=function(){this.props.lineHeight=this.getActiveStyle("lineHeight",null)},t.prototype.setLineHeight=function(){this.setActiveStyle("lineHeight",parseFloat(this.props.lineHeight),null)},t.prototype.getCharSpacing=function(){this.props.charSpacing=this.getActiveStyle("charSpacing",null)},t.prototype.setCharSpacing=function(){this.setActiveStyle("charSpacing",this.props.charSpacing,null)},t.prototype.getFontSize=function(){this.props.fontSize=this.getActiveStyle("fontSize",null)},t.prototype.setFontSize=function(){this.setActiveStyle("fontSize",parseInt(this.props.fontSize),null)},t.prototype.getBold=function(){this.props.fontWeight=this.getActiveStyle("fontWeight",null)},t.prototype.setBold=function(){this.props.fontWeight=!this.props.fontWeight,this.setActiveStyle("fontWeight",this.props.fontWeight?"bold":"",null)},t.prototype.getFontStyle=function(){this.props.fontStyle=this.getActiveStyle("fontStyle",null)},t.prototype.setFontStyle=function(){this.props.fontStyle=!this.props.fontStyle,this.setActiveStyle("fontStyle",this.props.fontStyle?"italic":"",null)},t.prototype.getTextDecoration=function(){this.props.TextDecoration=this.getActiveStyle("textDecoration",null)},t.prototype.setTextDecoration=function(t){var e=this.props.TextDecoration;e.includes(t)?e=e.replace(RegExp(t,"g"),""):e+=" "+t,this.props.TextDecoration=e,this.setActiveStyle("textDecoration",this.props.TextDecoration,null)},t.prototype.hasTextDecoration=function(t){return this.props.TextDecoration.includes(t)},t.prototype.getTextAlign=function(){this.props.textAlign=this.getActiveProp("textAlign")},t.prototype.setTextAlign=function(t){this.props.textAlign=t,this.setActiveProp("textAlign",this.props.textAlign)},t.prototype.getFontFamily=function(){this.props.fontFamily=this.getActiveProp("fontFamily")},t.prototype.setFontFamily=function(){this.setActiveProp("fontFamily",this.props.fontFamily)},t.prototype.confirmClear=function(){confirm("Are you sure?")&&this.canvas.clear()},t.prototype.rasterize=function(){if(fabric.Canvas.supports("toDataURL")){console.log(this.canvas.toDataURL("png"));var t=this.canvas.toDataURL("image/png").replace("image/png","image/octet-stream");window.open(t)}else alert("This browser doesn't provide means to serialize canvas to an image")},t.prototype.rasterizeJSON=function(){this.json=JSON.stringify(this.canvas,null,2)},t.prototype.resetPanels=function(){this.textEditor=!1,this.imageEditor=!1,this.figureEditor=!1},t=u([Object(n.n)({selector:"app-root",template:i("5xMp"),styles:[i("2zuS")]}),f("design:paramtypes",[])],t)}(),g=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a},v=function(){function t(){}return t=g([Object(n.I)({declarations:[h],imports:[s.a,d,a.a,c.a],providers:[],bootstrap:[h]})],t)}();Object(n._15)(),Object(o.a)().bootstrapModule(v).catch(function(t){return console.log(t)})}},[0]);